<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="js/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
    <style>
        
        .input-group {
            width: 80%;
            height: auto;
            padding: 4px;
        }
        .progress {
            height: 4px;
        }
    </style>
</head>

<body>
    <div class="container">
        <form action="">
            <div class="row">
                <div class="col-sm-3"> </div>
                <div class="col-sm-6">
                    <div class="container-fluid">
                        <center>
                            <br>
                            <br>
                            <div class="form-group">
                                <div class="input-group">
                                    <span class="input-group-addon">
                                        <i class="glyphicon glyphicon-user">
                                        </i>
                                    </span>
                                    <input id="email" type="text" class="form-control" name="email"
                                        placeholder="User-Email">
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon toggle-password">
                                        <i class="glyphicon glyphicon-lock">
                                        </i>
                                    </span>
                                    <input id="password" type="password" class="form-control" name="password"
                                        placeholder="Enter Password" onblur="removeSpaces();">
                                </div>
                            </div>
                            <div class="input-group">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                                        aria-valuemax="100" style="width:0%">
                                    </div>
                                </div>
                                <span id="strength-text"></span>
                            </div>
                            <br>
                            <br>
                            <input type="button" class="btn btn-primary save" value="Sign Up">
                        </center>
                        <br>
                    </div>
                </div>
                <div class="col-sm-3"> </div>
            </div>
        </form>
        
    </div>
    <script>
        var perchantage = 0;

        function strengthCheck(pass, len) 
        {
            if (len < 6) {
                perchantage = 0;
                $(".progress-bar").css("background", "#dd4b39");
                $("#strength-text").text('weak');
            } else if (len < 8) {
                perchantage = 20;
                $(".progress-bar").css("background", "#9c27b0");
                $("#strength-text").text('still weak');
            } else if (len < 10) {
                perchantage = 30;
                $(".progress-bar").css("background", "#008B8B");
                $("#strength-text").text('strong');
            } else {
                perchantage = 50;
                $(".progress-bar").css("background", "#006400");
            }
            // validation 
            if (pass.match(/[A-Z]/) != null) {
                perchantage += 10;
            }
            if (pass.match(/[a-z]/) != null) {
                perchantage += 10;
            }
            if (pass.match(/[0-9]/) != null) {
                perchantage += 10;
            }
            if ((pass.match(/\W/) != null) || (pass.match(/\D/) != null)) {
                perchantage += 10;
            }
            if(perchantage > 80) {
                $("#strength-text").text('very strong');
            }
            $(".progress-bar").css("width", perchantage + "%");
        }
        function removeSpaces() 
        {
            var pass = $("#password").val();
            $("#password").val(pass.split(' ').join('')); 
        }
        function emailValidation(email)
        {
             
        }
        $(document).ready(function () {
            $("#password").keyup(function () {
                let enteredPass = $(this).val();
                let passLength = enteredPass.length;
                strengthCheck(enteredPass, passLength);
            });
            $(".toggle-password").on('click', function(){
                var input = $("#password");
                input.attr('type') == 'password' ? input.attr('type', 'text') :  input.attr('type', 'password'); 
            });
            $(".save").click(function(){
                var email = $("#email").val();
                if(email = '') {
                    alert('Invalid Email!!!');
                }
                emailValidation(email);
            });
        });
        
    </script>
</body>

</html>